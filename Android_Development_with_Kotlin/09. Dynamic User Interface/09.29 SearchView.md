# SearchView

Android SearchView provides user interface to search query submitted over search provider. SearchView widget can be implemented over ToolBar/ActionBar or inside a layout.

SearchView is by default collapsible and set to be iconified using setIconifiedByDefault(true) method of SearchView class. For making search field visible, SearchView uses setIconifiedByDefault(false) method.


## Implementing SearchView in Android

### Step 1

Create a new project in Android Studio, go to File â‡’ New Project and fill all required details to create a new project.

### Step 2

Add the following code to res/layout/activity_main.xml.

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
   xmlns:tools="http://schemas.android.com/tools"
   android:layout_width="match_parent"![143998097-71fb0b27-d488-4cf4-8d83-fbdb7acfd27a](https://user-images.githubusercontent.com/67221487/143998442-ec75d59a-2605-477b-8856-4ccf9409af11.png)
![143998089-f22e1410-db4f-4fe0-b180-8be5ce0d82e1](https://user-images.githubusercontent.com/67221487/143998444-0c208d33-0c91-4c98-a7d5-e2ecf0c20722.png)

   android:layout_height="match_parent"![143998089-f22e1410-db4f-4fe0-b180-8be5ce0d82e1](https://user-images.githubusercontent.com/67221487/143998429-beaf955c-1f31-4668-b95b-cb0aa82c8b08.png)![143998097-71fb0b27-d488-4cf4-8d83-fbdb7acfd27a](https://user-images.githubusercontent.com/67221487/143998430-f595436a-a996-47d2-b357-00f1a70024f0.png)![143998097-71fb0b27-d488-4cf4-8d83-fbdb7acfd27a](https://user-images.githubusercontent.com/67221487/143998437-0b49d533-02de-43e9-9084-af667da7bf25.png)![143998089-f22e1410-db4f-4fe0-b180-8be5ce0d82e1](https://user-images.githubusercontent.com/67221487/143998438-0a614255-884b-4dd3-880d-38b530da2cb7.png)![143998097-71fb0b27-d488-4cf4-8d83-fbdb7acfd27a](https://user-images.githubusercontent.com/67221487/143998439-2f651b6f-501b-47ce-beba-57a495bcfff5.png)
![143998089-f22e1410-db4f-4fe0-b180-8be5ce0d82e1](https://user-images.githubusercontent.com/67221487/143998441-11d8d9db-3d05-45dc-812c-575f90a260a6.png)



![143998089-f22e1410-db4f-4fe0-b180-8be5ce0d82e1](https://user-images.githubusercontent.com/67221487/143998434-610cb2b1-f606-424f-a3b0-6f9df2017748.png)

![143998097-71fb0b27-d488-4cf4-8d83-fbdb7acfd27a](https://user-images.githubusercontent.com/67221487/143998432-ec31293d-3e41-458d-b418-e2cc5901a868.png)

   tools:context=".MainActivity">
   <ListView
      android:id="@+id/listView"
      android:layout_width="match_parent"
      android:layout_height="match_parent"
      android:layout_below="@+id/searchView"
      android:divider="#ad5"
      android:dividerHeight="2dp" />
   <SearchView
      android:id="@+id/searchView"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:layout_alignParentTop="true"
      android:iconifiedByDefault="false"
      android:queryHint="Search Here" />
</RelativeLayout>
```

### Step 3

Add the following code to src/MainActivity.kt

```
import android.os.Bundle
import android.widget.ArrayAdapter
import android.widget.ListView
import android.widget.SearchView
import android.widget.Toast
import androidx.appcompat.app.AppCompatActivity
class MainActivity : AppCompatActivity() {
   lateinit var searchView: SearchView
   lateinit var listView: ListView
   lateinit var list: ArrayList<String>
   lateinit var adapter: ArrayAdapter<*>
   override fun onCreate(savedInstanceState: Bundle?) {
      super.onCreate(savedInstanceState)
      setContentView(R.layout.activity_main)
      title = "KotlinApp"
      searchView = findViewById(R.id.searchView)
      listView = findViewById(R.id.listView)
      list = ArrayList()
      list.add("Apple")
      list.add("Banana")
      list.add("Pineapple")
      list.add("Orange")
      list.add("Mango")
      list.add("Grapes")
      list.add("Lemon")
      list.add("Melon")
      list.add("Watermelon")
      list.add("Papaya")
      adapter = ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, list)
      listView.adapter = adapter
      searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {
         override fun onQueryTextSubmit(query: String): Boolean {
            if (list.contains(query)) {
               adapter.filter.filter(query)
            } else {
               Toast.makeText(this@MainActivity, "No Match found", Toast.LENGTH_LONG).show()
            }
            return false
         }
         override fun onQueryTextChange(newText: String): Boolean {
            adapter.filter.filter(newText)
            return false
         }
      })
   }
}
```

### Step 4

Add the following code to androidManifest.xml

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android" package="com.example.q11">
   <application
      android:allowBackup="true"
      android:icon="@mipmap/ic_launcher"
      android:label="@string/app_name"
      android:roundIcon="@mipmap/ic_launcher_round"
      android:supportsRtl="true"
      android:theme="@style/AppTheme">
      <activity android:name=".MainActivity">
         <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
         </intent-filter>
      </activity>
   </application>
</manifest>
```

### Run the Application

Let's try to run your application. I assume you have connected your actual Android Mobile device with your computer. To run the app from android studio, open one of your project's activity files and click the Run icon from the toolbar. Select your mobile device as an option and then check your mobile device which will display your default screen


| ![image](https://user-images.githubusercontent.com/67221487/143998089-f22e1410-db4f-4fe0-b180-8be5ce0d82e1.png)  | ![image](https://user-images.githubusercontent.com/67221487/143998097-71fb0b27-d488-4cf4-8d83-fbdb7acfd27a.png) |
| :-----------: |:-------------:|
| Output of App | Output of App (Using Search View) |

## Author

- [Kanishk Chhabra](https://github.com/mrkc2303) For Documentation
